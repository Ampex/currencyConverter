{"version":3,"sources":["components/Validate.js","contexts/APIContext.js","hooks/useAPIcontext.js","components/Form.js","hooks/useCurrList.js","components/Historical.js","App.js","components/Alert.js","index.js"],"names":["validate","values","errors","quantity","from","to","APIContext","React","createContext","error","addError","open","toogleOpen","history","addHistory","result","addResult","APIProvider","children","useState","setError","setOpen","setHistory","setResult","contextValue","useCallback","message","state","entry","score","Provider","value","useAPIContext","useContext","MainForm","data","useAPIcontext","response","setResponse","useEffect","fetch","process","then","res","ok","json","results","catch","err","console","log","useCurrList","currSelectList","Object","keys","sort","map","curr","MenuItem","key","query","URLSearchParams","useLocation","search","q","v","get","f","t","handleSubmit","val","a","currs","time","Date","toLocaleDateString","resp","toFixed","after","onSubmit","initialValues","toUpperCase","render","submitting","noValidate","name","input","type","label","style","marginBottom","inputProps","tabIndex","InputProps","endAdornment","InputAdornment","FormControl","focused","fullWidth","InputLabel","Input","readOnly","required","className","variant","fontSize","color","Button","size","disabled","CircularProgress","position","sensitive","pathname","isMobile","window","innerWidth","Historical","localStorage","getItem","JSON","parse","setItem","stringify","rows","row","index","Fade","timeout","in","TableRow","hover","TableCell","component","scope","align","Grid","container","alignItems","direction","justify","item","xs","Box","TableContainer","height","Table","stickyHeader","TableHead","TableBody","length","Typography","textDecoration","onClick","removeItem","Grow","IconButton","transform","App","width","Form","path","ALert","Backdrop","Snackbar","anchorOrigin","vertical","horizontal","Alert","onClose","location","reload","severity","AlertTitle","theme","createMuiTheme","overrides","MuiBackdrop","root","zIndex","MuiSvgIcon","fontSizeLarge","MuiTableCell","backgroundColor","fontWeight","body","palette","primary","main","secondary","ReactDOM","ThemeProvider","document","getElementById"],"mappings":"kXAAaA,EAAW,SAAAC,GACtB,IAAMC,EAAS,GAUf,QATKD,EAAOE,UAAYF,EAAOE,UAAY,KACzCD,EAAOC,SAAW,wCAEfF,EAAOG,OACVF,EAAOE,KAAO,uBAEXH,EAAOI,KACVH,EAAOG,GAAK,uBAEPH,G,QCTII,EAAaC,IAAMC,cAAc,CAC5CC,MAAO,KACPC,SAAU,aACVC,MAAM,EACNC,WAAY,aACZC,QAAS,GACTC,WAAY,aACZC,QAAQ,EACRC,UAAW,eAGE,SAASC,EAAT,GAAoC,IAAbC,EAAY,EAAZA,SAAY,EACtBC,mBAAS,MADa,mBACzCV,EADyC,KAClCW,EADkC,OAExBD,oBAAS,GAFe,mBAEzCR,EAFyC,KAEnCU,EAFmC,OAGlBF,mBAAS,IAHS,mBAGzCN,EAHyC,KAGhCS,EAHgC,OAIpBH,oBAAS,GAJW,mBAIzCJ,EAJyC,KAIjCQ,EAJiC,KAU1CC,EAAe,CACnBf,QACAC,SAAUe,uBAAY,SAAAC,GAAO,OANd,SAAAA,GAAO,OAAIN,EAAS,CAAEM,YAMJhB,CAASgB,KAAU,IACpDf,OACAC,WAAYa,uBAAY,SAAAE,GAAK,OAAIN,EAAQM,IAAUhB,KAAO,CAACA,IAC3DE,UACAC,WAAYW,uBAAY,SAAAG,GAAK,OATZ,SAAAA,GAAK,OAAIN,EAAWM,GASJd,CAAWc,KAAQ,IACpDb,SACAC,UAAWS,uBAAY,SAAAI,GAAK,OAVZ,SAAAA,GAAK,OAAIN,EAAUM,GAUHb,CAAUa,KAAQ,KAGpD,OACE,kBAACvB,EAAWwB,SAAZ,CAAqBC,MAAOP,GAAeN,GCThCc,MAvBf,WAA0B,IAAD,EAUnBC,qBAAW3B,GACf,MAAO,CACLG,MAZqB,EAErBA,MAWAC,SAbqB,EAGrBA,SAWAC,KAdqB,EAIrBA,KAWAC,WAfqB,EAKrBA,WAWAC,QAhBqB,EAMrBA,QAWAC,WAjBqB,EAOrBA,WAWAC,OAlBqB,EAQrBA,OAWAC,UAnBqB,EASrBA,YCMJ,IA0KekB,EA1KE,WAAO,IACdC,EChBK,WAAwB,IAC7BzB,EAAa0B,IAAb1B,SAD4B,EAEJS,mBAAS,CAAEgB,MAAM,IAFb,mBAE7BE,EAF6B,KAEnBC,EAFmB,KAoBpC,OAhBAC,qBAAU,WAQRC,MAAM,yDAAD,OACsDC,wCAExDC,MAVkB,SAAAC,GAInB,OAHKA,EAAIC,IACPlC,EAAS,iEAEJiC,EAAIE,UAOVH,MAAK,SAAAP,GAAI,OAAIG,EAAY,CAAEH,KAAMA,EAAKW,aACtCC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAC3B,CAACtC,EAAU4B,IAEPD,EDJUc,GAAThB,KADa,EASjBC,IANF1B,EAHmB,EAGnBA,SACAE,EAJmB,EAInBA,WACAC,EALmB,EAKnBA,QACAC,EANmB,EAMnBA,WACAC,EAPmB,EAOnBA,OACAC,EARmB,EAQnBA,UAOIoC,EAAiBjB,EACrBkB,OAAOC,KAAKnB,GACToB,OACAC,KAAI,SAAAC,GAAI,OACP,kBAACC,EAAA,EAAD,CAAUC,IAAKF,EAAM1B,MAAO0B,GACzBA,MAIP,kBAACC,EAAA,EAAD,CAAU3B,MAAM,IAAhB,kBAGI6B,EAfG,IAAIC,gBAAgBC,cAAcC,QAgBrCC,EAAI,CACRC,EAAGL,EAAMM,IAAI,SACbC,EAAGP,EAAMM,IAAI,QACbE,EAAGR,EAAMM,IAAI,OAGTG,EAAY,uCAAG,WAAMC,GAAN,iBAAAC,EAAA,6DACbC,EADa,UACFF,EAAIlE,KADF,YACUkE,EAAIjE,IAC3BoE,GAAO,IAAIC,MAAOC,qBACxB/D,GAAW,GAHQ,SAIb4B,MAAM,sDAAD,OAC6CC,sCAD7C,cACgF+B,EADhF,mBAGR9B,MAAK,SAAAkC,GAAI,OAAIA,EAAK/B,UAClBH,MAAK,SAAAP,GACJnB,GAAWmB,EAAKqC,GAASF,EAAInE,UAAU0E,QAAQ,IAC/C/D,EAAW,CACT,CACE2D,OACAK,OAAQ3C,EAAKqC,GAASF,EAAInE,UAAU0E,QAAQ,GAC5C9C,MAAOuC,EAAInE,SACXC,KAAMkE,EAAIlE,KACVC,GAAIiE,EAAIjE,KANF,mBAQLQ,QAGNkC,OAAM,kBAAMrC,EAAS,2DArBL,2CAAH,sDAwBlB,OACE,kBAAC,IAAD,CACEqE,SAAUV,EACVW,cAAe,CACb7E,SAAU6D,EAAEC,GAAK,GACjB7D,KAAO4D,EAAEG,GAAKH,EAAEG,EAAEc,eAAkB,GACpC5E,GAAK2D,EAAEI,GAAKJ,EAAEI,EAAEa,eAAkB,IAEpCjF,SAAUA,EACVkF,OAAQ,gBAAGb,EAAH,EAAGA,aAAcc,EAAjB,EAAiBA,WAAYlF,EAA7B,EAA6BA,OAA7B,OACN,0BAAM8E,SAAUV,EAAce,YAAU,GACtC,kBAAC,IAAD,CAAOC,KAAK,aACT,gBAAGC,EAAH,EAAGA,MAAH,OACC,kBAAC,IAAD,iBACMA,EADN,CAEEC,KAAK,SACLC,MAAM,mBACNH,KAAK,WACLI,MAAO,CAAEC,aAAc,IACvBC,WAAY,CACVC,SAAU,GAEZC,WAAY,CACVC,aAAc7F,EAAOG,MACnB,kBAAC2F,EAAA,EAAD,KAAiB9F,EAAOG,aAMlC,kBAAC4F,EAAA,EAAD,CAAaC,SAAS,EAAOC,WAAS,GACpC,kBAACC,EAAA,EAAD,cACA,kBAACC,EAAA,EAAD,CACEC,UAAQ,EACRd,KAAK,SACLF,KAAK,YACLiB,UAAQ,EACRvE,MAAOhB,GAAU,GACjB4E,WAAY,CACVC,UAAW,GAEbE,aACE7F,EAAOI,IAAM,kBAAC0F,EAAA,EAAD,KAAiB9F,EAAOI,OAK3C,yBAAKkG,UAAU,WACb,kBAAC,IAAD,CAAOlB,KAAK,SACT,gBAAGC,EAAH,EAAGA,MAAH,OACC,kBAAC,IAAD,iBACMA,EADN,CAEEE,MAAM,cACNgB,QAAQ,WACRnB,KAAK,OACLM,WAAY,CACVC,SAAU,KAGXxC,MAIP,kBAAC,IAAD,CAAeqD,SAAS,QAAQC,MAAM,YACtC,kBAAC,IAAD,CAAOrB,KAAK,OACT,gBAAGC,EAAH,EAAGA,MAAH,OACC,kBAAC,IAAD,iBACMA,EADN,CAEEE,MAAM,eACNgB,QAAQ,WACRnB,KAAK,KACLM,WAAY,CACVC,SAAU,KAGXxC,OAMT,kBAACuD,EAAA,EAAD,CACET,WAAS,EACTU,KAAK,QACLJ,QAAQ,YACRE,MAAM,UACNnB,KAAK,SACLsB,SAAU1B,GAETA,GACC,kBAAC2B,EAAA,EAAD,CACEJ,MAAM,UACNE,KAAM,GACNnB,MAAO,CAAEsB,SAAU,cAZzB,aAiBA,kBAAC,IAAD,CACEC,WAAS,EACT3G,GAAI,CACF4G,SAAU,sBACVlD,OAAO,GAAD,OAAK9D,EAAOE,UAAP,2BAAgCF,EAAOE,YAA5C,OACJF,EAAOG,MAAP,0BAA2BH,EAAOG,QAD9B,OAEHH,EAAOI,IAAP,wBAAuBJ,EAAOI,c,8IEhKzC6G,EAAWC,OAAOC,YAAc,KA6GvBC,EA3GI,WAAO,IAAD,EAC2BjF,IAA1CvB,EADe,EACfA,QAASC,EADM,EACNA,WAAYH,EADN,EACMA,KAAMC,EADZ,EACYA,WAEnC2B,qBAAU,WACR+E,aAAaC,QAAQ,YACnBzG,EAAW0G,KAAKC,MAAMH,aAAaC,QAAQ,aAAe,MAC3D,CAACzG,IAEJyB,qBAAU,WACR+E,aAAaI,QAAQ,UAAWF,KAAKG,UAAU9G,MAC9C,CAACA,IAEJ,IAKM+G,EACJ/G,GACAA,EAAQ2C,KAAI,SAACqE,EAAKC,GAAN,OACV,kBAACC,EAAA,EAAD,CAAMpE,IAAKmE,EAAOE,QAAS,IAAKC,IAAE,GAChC,kBAACC,EAAA,EAAD,CAAUC,OAAK,GACb,kBAACC,EAAA,EAAD,CAAWC,UAAU,KAAKC,MAAM,OAC7BT,EAAIpD,MAEP,kBAAC2D,EAAA,EAAD,CAAWG,MAAM,SACdV,EAAI9F,MADP,IACe8F,EAAIzH,MAEnB,kBAACgI,EAAA,EAAD,CAAWG,MAAM,UACf,kBAAC,IAAD,OAEF,kBAACH,EAAA,EAAD,CAAWG,MAAM,SACdV,EAAI/C,MADP,IACe+C,EAAIxH,SAM3B,OACE,kBAACmI,EAAA,EAAD,CAAMC,WAAS,EAACC,WAAW,cACzB,kBAACF,EAAA,EAAD,CAAMC,WAAS,EAACE,UAAU,SAASC,QAAQ,eAAeC,MAAI,EAACC,GAAI,IACjE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAgBvD,MAAO,CAAEwD,OAAQ,UAC/B,kBAACC,EAAA,EAAD,CAAOC,cAAY,GACjB,kBAACC,EAAA,EAAD,KACE,kBAAClB,EAAA,EAAD,KACE,kBAACE,EAAA,EAAD,aACA,kBAACA,EAAA,EAAD,CAAWG,MAAM,SAAjB,wBACA,kBAACH,EAAA,EAAD,MACA,kBAACA,EAAA,EAAD,CAAWG,MAAM,SAAjB,kBAGJ,kBAACc,EAAA,EAAD,KAAYzB,KAEZ/G,EAAQyI,QACR,kBAACC,EAAA,EAAD,CAAY9D,MAAO,CAAEwD,OAAQ,OAAS1C,UAAU,eAAhD,mCAMN,kBAACwC,EAAA,EAAD,CAAKxC,UAAU,SACb,kBAACI,EAAA,EAAD,CACEE,UAAWhG,EAAQyI,OACnB5C,MAAM,YACNjB,MAAO,CAAE+D,eAAgB,aACzBC,QAtDU,WAClBnC,aAAaoC,WAAW,WACxB5I,EAAW,MAgDL,qCAUJ,kBAAC0H,EAAA,EAAD,CAAMC,WAAS,EAACG,QAAQ,SAASC,MAAI,EAACC,GAAI,GACxC,kBAACC,EAAA,EAAD,CAAKxC,UAAU,OACb,kBAACoD,EAAA,EAAD,CAAM1B,GAAItH,GAA2B,IAAnBE,EAAQyI,QACxB,kBAACM,EAAA,EAAD,CACEnE,MACE9E,EACI,CACEkJ,UAAU,GAAD,OACP3C,EAAW,iBAAmB,mBAGlC,CACE2C,UAAU,GAAD,OACP3C,EAAW,gBAAkB,iBAIvCuC,QAAS,kBAAM7I,KACf8F,MAAM,aAEN,kBAAC,IAAD,QAGJ,kBAAC6C,EAAA,EAAD,CACE9D,MAAO9E,EAAO,CAAE+F,MAAO,WAAc,CAAEA,MAAO,WAC9CF,QAAQ,MAFV,gBC/GJU,EAAWC,OAAOC,YAAc,KAkCvB0C,EAhCH,WAAO,IACTnJ,EAASyB,IAATzB,KAER,OACE,yBAAK4F,UAAU,aACb,yBACEd,MAAO9E,IAASuG,EAAW,CAAE6C,MAAO,UAAa,CAAEA,MAAO,SAC1DxD,UAAU,WAEV,8BACE,+CACA,kBAACyD,EAAD,OAEF,yBACEvE,MACE9E,EACI,CACEkJ,UAAU,GAAD,OACP3C,EAAW,yBAA2B,qBAG1C,CAAE2C,UAAW,mBAEnBtD,UAAU,cAEV,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAO0D,KAAK,kBAAkB5B,UAAW2B,Q,+DCZpCE,GAjBD,WAAO,IACXzJ,EAAU2B,IAAV3B,MAER,OACE,kBAAC0J,GAAA,EAAD,CAAUxJ,KAAgB,OAAVF,GACd,kBAAC2J,GAAA,EAAD,CAAUzJ,MAAI,EAAC0J,aAAc,CAAEC,SAAU,SAAUC,WAAY,UAC7D,kBAACC,EAAA,EAAD,CAAOC,QAAS,kBAAMtD,OAAOuD,SAASC,UAAUC,SAAS,SACvD,kBAACC,EAAA,EAAD,KACE,mDAEDpK,GAASA,EAAMiB,YCPpBoJ,GAAQC,YAAe,CAC3BC,UAAW,CACTC,YAAa,CACXC,KAAM,CACJC,OAAQ,IAGZC,WAAY,CACVC,cAAe,CACbtB,MAAO,SAGXuB,aAAc,CACZnC,aAAc,CACZoC,gBAAiB,UACjB7E,MAAO,UACP8E,WAAY,KAEdC,KAAM,CACJ/E,MAAO,aAIbgF,QAAS,CACPC,QAAS,CACPC,KAAM,WAERC,UAAW,CACTD,KAAM,cAKZE,IAAS5G,OACP,kBAAC6G,EAAA,EAAD,CAAejB,MAAOA,IACpB,kBAAC,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,GAAD,MACA,kBAAC,EAAD,SAINkB,SAASC,eAAe,W","file":"static/js/main.97514dd3.chunk.js","sourcesContent":["export const validate = values => {\r\n  const errors = {}\r\n  if (!values.quantity || values.quantity <= 0) {\r\n    errors.quantity = 'Nieprawidłowa wartość'\r\n  }\r\n  if (!values.from) {\r\n    errors.from = 'Wybierz walutę'\r\n  }\r\n  if (!values.to) {\r\n    errors.to = 'Wybierz walutę'\r\n  }\r\n  return errors\r\n}\r\n","import React, { useState, useCallback } from 'react'\r\n\r\nexport const APIContext = React.createContext({\r\n  error: null,\r\n  addError: () => {},\r\n  open: false,\r\n  toogleOpen: () => {},\r\n  history: [],\r\n  addHistory: () => {},\r\n  result: false,\r\n  addResult: () => {}\r\n})\r\n\r\nexport default function APIProvider({ children }) {\r\n  const [error, setError] = useState(null)\r\n  const [open, setOpen] = useState(false)\r\n  const [history, setHistory] = useState([])\r\n  const [result, setResult] = useState(false)\r\n\r\n  const addError = message => setError({ message })\r\n  const addHistory = entry => setHistory(entry)\r\n  const addResult = score => setResult(score)\r\n\r\n  const contextValue = {\r\n    error,\r\n    addError: useCallback(message => addError(message), []),\r\n    open,\r\n    toogleOpen: useCallback(state => setOpen(state || !open), [open]),\r\n    history,\r\n    addHistory: useCallback(entry => addHistory(entry), []),\r\n    result,\r\n    addResult: useCallback(score => addResult(score), [])\r\n  }\r\n\r\n  return (\r\n    <APIContext.Provider value={contextValue}>{children}</APIContext.Provider>\r\n  )\r\n}\r\n","import { useContext } from 'react'\r\nimport { APIContext } from '../contexts/APIContext'\r\n\r\nfunction useAPIContext() {\r\n  const {\r\n    error,\r\n    addError,\r\n    open,\r\n    toogleOpen,\r\n    history,\r\n    addHistory,\r\n    result,\r\n    addResult\r\n  } = useContext(APIContext)\r\n  return {\r\n    error,\r\n    addError,\r\n    open,\r\n    toogleOpen,\r\n    history,\r\n    addHistory,\r\n    result,\r\n    addResult\r\n  }\r\n}\r\n\r\nexport default useAPIContext\r\n","import React from 'react'\r\nimport { Form, Field } from 'react-final-form'\r\nimport {\r\n  InputAdornment,\r\n  MenuItem,\r\n  Button,\r\n  FormControl,\r\n  InputLabel,\r\n  Input,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\nimport SwapHorizIcon from '@material-ui/icons/SwapHoriz'\r\nimport { TextField, Select } from 'mui-rff'\r\nimport { useLocation, Redirect } from 'react-router-dom'\r\nimport { validate } from './Validate'\r\nimport useCurrList from '../hooks/useCurrList'\r\nimport useAPIcontext from '../hooks/useAPIcontext'\r\n\r\nconst MainForm = () => {\r\n  const { data } = useCurrList()\r\n  const {\r\n    addError,\r\n    toogleOpen,\r\n    history,\r\n    addHistory,\r\n    result,\r\n    addResult\r\n  } = useAPIcontext()\r\n\r\n  const useQuery = () => {\r\n    return new URLSearchParams(useLocation().search)\r\n  }\r\n\r\n  const currSelectList = data ? (\r\n    Object.keys(data)\r\n      .sort()\r\n      .map(curr => (\r\n        <MenuItem key={curr} value={curr}>\r\n          {curr}\r\n        </MenuItem>\r\n      ))\r\n  ) : (\r\n    <MenuItem value=''>Błąd</MenuItem>\r\n  )\r\n\r\n  const query = useQuery()\r\n  const q = {\r\n    v: query.get('value'),\r\n    f: query.get('from'),\r\n    t: query.get('to')\r\n  }\r\n\r\n  const handleSubmit = async val => {\r\n    const currs = `${val.from}_${val.to}`\r\n    const time = new Date().toLocaleDateString()\r\n    toogleOpen(true)\r\n    await fetch(\r\n      `https://prepaid.currconv.com/api/v7/convert?apiKey=${process.env.REACT_APP_API_KEY}&q=${currs}&compact=ultra`\r\n    )\r\n      .then(resp => resp.json())\r\n      .then(data => {\r\n        addResult((data[currs] * val.quantity).toFixed(2))\r\n        addHistory([\r\n          {\r\n            time,\r\n            after: (data[currs] * val.quantity).toFixed(2),\r\n            value: val.quantity,\r\n            from: val.from,\r\n            to: val.to\r\n          },\r\n          ...history\r\n        ])\r\n      })\r\n      .catch(() => addError('Coś poszło nie tak. Spróbuj ponownie...'))\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      onSubmit={handleSubmit}\r\n      initialValues={{\r\n        quantity: q.v || '',\r\n        from: (q.f && q.f.toUpperCase()) || '',\r\n        to: (q.t && q.t.toUpperCase()) || ''\r\n      }}\r\n      validate={validate}\r\n      render={({ handleSubmit, submitting, values }) => (\r\n        <form onSubmit={handleSubmit} noValidate>\r\n          <Field name='quantity'>\r\n            {({ input }) => (\r\n              <TextField\r\n                {...input}\r\n                type='number'\r\n                label='Wpisz kwotę'\r\n                name='quantity'\r\n                style={{ marginBottom: 25 }}\r\n                inputProps={{\r\n                  tabIndex: 1\r\n                }}\r\n                InputProps={{\r\n                  endAdornment: values.from && (\r\n                    <InputAdornment>{values.from}</InputAdornment>\r\n                  )\r\n                }}\r\n              />\r\n            )}\r\n          </Field>\r\n          <FormControl focused={false} fullWidth>\r\n            <InputLabel>Wynik</InputLabel>\r\n            <Input\r\n              readOnly\r\n              type='number'\r\n              name='converted'\r\n              required\r\n              value={result || ''}\r\n              inputProps={{\r\n                tabIndex: -1\r\n              }}\r\n              endAdornment={\r\n                values.to && <InputAdornment>{values.to}</InputAdornment>\r\n              }\r\n            />\r\n          </FormControl>\r\n\r\n          <div className='selects'>\r\n            <Field name='from'>\r\n              {({ input }) => (\r\n                <Select\r\n                  {...input}\r\n                  label='Konwertuj z'\r\n                  variant='outlined'\r\n                  name='from'\r\n                  inputProps={{\r\n                    tabIndex: 2\r\n                  }}\r\n                >\r\n                  {currSelectList}\r\n                </Select>\r\n              )}\r\n            </Field>\r\n            <SwapHorizIcon fontSize='large' color='primary' />\r\n            <Field name='to'>\r\n              {({ input }) => (\r\n                <Select\r\n                  {...input}\r\n                  label='Konwertuj na'\r\n                  variant='outlined'\r\n                  name='to'\r\n                  inputProps={{\r\n                    tabIndex: 3\r\n                  }}\r\n                >\r\n                  {currSelectList}\r\n                </Select>\r\n              )}\r\n            </Field>\r\n          </div>\r\n\r\n          <Button\r\n            fullWidth\r\n            size='large'\r\n            variant='contained'\r\n            color='primary'\r\n            type='submit'\r\n            disabled={submitting}\r\n          >\r\n            {submitting && (\r\n              <CircularProgress\r\n                color='primary'\r\n                size={30}\r\n                style={{ position: 'absolute' }}\r\n              />\r\n            )}\r\n            Konwertuj\r\n          </Button>\r\n          <Redirect\r\n            sensitive\r\n            to={{\r\n              pathname: '/currencyConverter/',\r\n              search: `${values.quantity && `${`?value=${values.quantity}`}`}${\r\n                values.from && `${`&from=${values.from}`}`\r\n              }${values.to && `${`&to=${values.to}`}`}`\r\n            }}\r\n          />\r\n        </form>\r\n      )}\r\n    />\r\n  )\r\n}\r\nexport default MainForm\r\n","import { useState, useEffect } from 'react'\r\nimport useAPIcontext from './useAPIcontext'\r\n\r\nexport default function useCurrList() {\r\n  const { addError } = useAPIcontext()\r\n  const [response, setResponse] = useState({ data: false })\r\n\r\n  useEffect(() => {\r\n    const handleErrors = res => {\r\n      if (!res.ok) {\r\n        addError('Wystąpił problem z serwerem. Spróbuj ponownie...')\r\n      }\r\n      return res.json()\r\n    }\r\n\r\n    fetch(\r\n      `https://prepaid.currconv.com/api/v7/currencies?apiKey=${process.env.REACT_APP_API_KEY}`\r\n    )\r\n      .then(handleErrors)\r\n      .then(data => setResponse({ data: data.results }))\r\n      .catch(err => console.log(err))\r\n  }, [addError, setResponse])\r\n\r\n  return response\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport {\r\n  Grid,\r\n  Typography,\r\n  Box,\r\n  TableContainer,\r\n  Table,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody,\r\n  Fade,\r\n  Button,\r\n  IconButton,\r\n  Grow\r\n} from '@material-ui/core'\r\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt'\r\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight'\r\nimport useAPIcontext from '../hooks/useAPIcontext'\r\n\r\nconst isMobile = window.innerWidth <= 1200\r\n\r\nconst Historical = () => {\r\n  const { history, addHistory, open, toogleOpen } = useAPIcontext()\r\n\r\n  useEffect(() => {\r\n    localStorage.getItem('history') &&\r\n      addHistory(JSON.parse(localStorage.getItem('history')) || [])\r\n  }, [addHistory])\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('history', JSON.stringify(history))\r\n  }, [history])\r\n\r\n  const handleClear = () => {\r\n    localStorage.removeItem('history')\r\n    addHistory([])\r\n  }\r\n\r\n  const rows =\r\n    history &&\r\n    history.map((row, index) => (\r\n      <Fade key={index} timeout={200} in>\r\n        <TableRow hover>\r\n          <TableCell component='th' scope='row'>\r\n            {row.time}\r\n          </TableCell>\r\n          <TableCell align='right'>\r\n            {row.value} {row.from}\r\n          </TableCell>\r\n          <TableCell align='center'>\r\n            <ArrowRightAltIcon />\r\n          </TableCell>\r\n          <TableCell align='right'>\r\n            {row.after} {row.to}\r\n          </TableCell>\r\n        </TableRow>\r\n      </Fade>\r\n    ))\r\n\r\n  return (\r\n    <Grid container alignItems='flex-start'>\r\n      <Grid container direction='column' justify='space-around' item xs={10}>\r\n        <Box>\r\n          <TableContainer style={{ height: '490px' }}>\r\n            <Table stickyHeader>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Data</TableCell>\r\n                  <TableCell align='right'>Przed konwersją</TableCell>\r\n                  <TableCell></TableCell>\r\n                  <TableCell align='right'>Po konwersji</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>{rows}</TableBody>\r\n            </Table>\r\n            {!history.length && (\r\n              <Typography style={{ height: '80%' }} className='flex-center'>\r\n                Brak historii konwersji walut\r\n              </Typography>\r\n            )}\r\n          </TableContainer>\r\n        </Box>\r\n        <Box className='reset'>\r\n          <Button\r\n            disabled={!history.length}\r\n            color='secondary'\r\n            style={{ textDecoration: 'underline' }}\r\n            onClick={handleClear}\r\n          >\r\n            Wyczyść historię\r\n          </Button>\r\n        </Box>\r\n      </Grid>\r\n      <Grid container justify='center' item xs={2}>\r\n        <Box className='tab'>\r\n          <Grow in={open || history.length !== 0}>\r\n            <IconButton\r\n              style={\r\n                open\r\n                  ? {\r\n                      transform: `${\r\n                        isMobile ? 'rotate(270deg)' : 'rotate(180deg)'\r\n                      }`\r\n                    }\r\n                  : {\r\n                      transform: `${\r\n                        isMobile ? 'rotate(90deg)' : 'rotate(0deg)'\r\n                      }`\r\n                    }\r\n              }\r\n              onClick={() => toogleOpen()}\r\n              color='secondary'\r\n            >\r\n              <KeyboardArrowRightIcon />\r\n            </IconButton>\r\n          </Grow>\r\n          <Typography\r\n            style={open ? { color: 'inherit' } : { color: '#adc8f5' }}\r\n            variant='h6'\r\n          >\r\n            Historia\r\n          </Typography>\r\n        </Box>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default Historical\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport './App.scss'\r\nimport Form from './components/Form'\r\nimport Historical from './components/Historical'\r\nimport useAPIcontext from './hooks/useAPIcontext'\r\nconst isMobile = window.innerWidth <= 1200\r\n\r\nconst App = () => {\r\n  const { open } = useAPIcontext()\r\n\r\n  return (\r\n    <div className='container'>\r\n      <div\r\n        style={open && !isMobile ? { width: '1150px' } : { width: '600px' }}\r\n        className='wrapper'\r\n      >\r\n        <main>\r\n          <h3>Konwerter walut</h3>\r\n          <Form />\r\n        </main>\r\n        <div\r\n          style={\r\n            open\r\n              ? {\r\n                  transform: `${\r\n                    isMobile ? 'translate(70px, 570px)' : 'translate(560px)'\r\n                  }`\r\n                }\r\n              : { transform: 'translate(70px)' }\r\n          }\r\n          className='historical'\r\n        >\r\n          <Historical />\r\n          <Route path='/user/:username' component={Form} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default App\r\n","import React from 'react'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\nimport { Snackbar, Backdrop } from '@material-ui/core'\r\nimport useAPIcontext from '../hooks/useAPIcontext'\r\n\r\nconst ALert = () => {\r\n  const { error } = useAPIcontext()\r\n\r\n  return (\r\n    <Backdrop open={error !== null}>\r\n      <Snackbar open anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}>\r\n        <Alert onClose={() => window.location.reload()} severity='error'>\r\n          <AlertTitle>\r\n            <strong>Błąd</strong>\r\n          </AlertTitle>\r\n          {error && error.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Backdrop>\r\n  )\r\n}\r\n\r\nexport default ALert\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport APIContext from './contexts/APIContext'\nimport Alert from './components/Alert'\n\nconst theme = createMuiTheme({\n  overrides: {\n    MuiBackdrop: {\n      root: {\n        zIndex: 2\n      }\n    },\n    MuiSvgIcon: {\n      fontSizeLarge: {\n        width: '80px'\n      }\n    },\n    MuiTableCell: {\n      stickyHeader: {\n        backgroundColor: '#3578eb',\n        color: '#ffffff',\n        fontWeight: 700\n      },\n      body: {\n        color: '#ffffff'\n      }\n    }\n  },\n  palette: {\n    primary: {\n      main: '#3578eb'\n    },\n    secondary: {\n      main: '#ffffff'\n    }\n  }\n})\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <APIContext>\n      <Router>\n        <Alert />\n        <App />\n      </Router>\n    </APIContext>\n  </ThemeProvider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}